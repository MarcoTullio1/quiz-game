<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Sistema Quiz</title>
    <link rel="stylesheet" href="/css/admin.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1>Painel Administrativo</h1>
            <div class="header-actions">
                <button id="btnNewGame" class="btn btn-primary">Novo Jogo</button>
            </div>
        </header>

        <!-- Lista de Jogos -->
        <section id="gamesList" class="section">
            <h2>Jogos</h2>
            <div id="gamesContainer" class="games-grid"></div>
        </section>

        <!-- Gerenciamento do Jogo Selecionado -->
        <section id="gameManagement" class="section hidden">
            <div class="game-header">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button id="btnBackToGames" class="btn btn-secondary" style="padding: 5px 10px;">← Voltar</button>
                    <h2 id="gameTitle" style="margin: 0;"></h2>
                </div>
                <span id="gameStatus" class="badge"></span>
            </div>

            <div class="tabs">
                <button class="tab-btn active" data-tab="teams">Times</button>
                <button class="tab-btn" data-tab="questions">Perguntas</button>
                <button class="tab-btn" data-tab="control">Controle do Jogo</button>
            </div>

            <!-- Tab: Times -->
            <div id="teamsTab" class="tab-content active">
                <div class="tab-header">
                    <h3>Times</h3>
                    <button id="btnNewTeam" class="btn btn-secondary">Adicionar Time</button>
                </div>
                <div id="teamsContainer" class="teams-grid"></div>
            </div>

            <!-- Tab: Perguntas -->
            <div id="questionsTab" class="tab-content">
                <div class="tab-header">
                    <h3>Perguntas</h3>
                    <button id="btnNewQuestion" class="btn btn-secondary">Adicionar Pergunta</button>
                </div>
                <div id="questionsContainer" class="questions-list"></div>
            </div>

            <!-- Tab: Controle do Jogo -->
            <div id="controlTab" class="tab-content">
                <div class="control-panel">
                    <h3>Controle do Jogo</h3>
                    <div class="control-actions">
                        <button id="btnStartGame" class="btn btn-success btn-large">Iniciar Jogo</button>
                        <button id="btnNextQuestion" class="btn btn-primary btn-large" disabled>Próxima
                            Pergunta</button>
                        <button id="btnShowRanking" class="btn btn-info btn-large" disabled>Mostrar Ranking</button>
                        <button id="btnReshow" class="btn btn-warning btn-large">Voltar p/ Pergunta</button>
                        <button id="btnEndGame" class="btn btn-danger btn-large" disabled>Finalizar Jogo</button>
                    </div>
                    <div id="gameStatus" class="status-panel"></div>
                </div>
            </div>
        </section>
    </div>

    <!-- Modal: Novo Jogo -->
    <div id="modalNewGame" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Criar Novo Jogo</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formNewGame">
                    <div class="form-group">
                        <label for="gameName">Nome do Jogo:</label>
                        <input type="text" id="gameName" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Criar</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Novo Time -->
    <div id="modalNewTeam" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar Time</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formNewTeam">
                    <div class="form-group">
                        <label for="teamName">Nome do Time:</label>
                        <input type="text" id="teamName" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Adicionar</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Nova Pergunta -->
    <div id="modalNewQuestion" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Adicionar Pergunta</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="formNewQuestion">
                    <div class="form-group">
                        <label for="questionText">Pergunta:</label>
                        <textarea id="questionText" rows="3" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="timeLimit">Tempo (segundos):</label>
                            <input type="number" id="timeLimit" value="30" min="5" max="120" required>
                        </div>
                        <div class="form-group">
                            <label for="points">Pontos Base:</label>
                            <input type="number" id="points" value="100" min="10" max="1000" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Respostas:</label>
                        <div id="answersContainer">
                            <div class="answer-item">
                                <input type="text" class="answer-text" placeholder="Resposta 1" required>
                                <label class="checkbox-label">
                                    <input type="radio" name="correctAnswer" value="0" required>
                                    Correta
                                </label>
                            </div>
                            <div class="answer-item">
                                <input type="text" class="answer-text" placeholder="Resposta 2" required>
                                <label class="checkbox-label">
                                    <input type="radio" name="correctAnswer" value="1">
                                    Correta
                                </label>
                            </div>
                            <div class="answer-item">
                                <input type="text" class="answer-text" placeholder="Resposta 3" required>
                                <label class="checkbox-label">
                                    <input type="radio" name="correctAnswer" value="2">
                                    Correta
                                </label>
                            </div>
                            <div class="answer-item">
                                <input type="text" class="answer-text" placeholder="Resposta 4" required>
                                <label class="checkbox-label">
                                    <input type="radio" name="correctAnswer" value="3">
                                    Correta
                                </label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Adicionar Pergunta</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal: Visualizar QR Code -->
    <div id="modalQRCode" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>QR Code - <span id="qrTeamName"></span></h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body text-center">
                <img id="qrCodeImage" src="/placeholder.svg" alt="QR Code" class="qr-code-large">
                <p class="qr-info">Código de Acesso: <strong id="qrAccessCode"></strong></p>
                <button id="btnDownloadQR" class="btn btn-primary">Baixar QR Code</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/admin.js"></script>
</body>

</html>